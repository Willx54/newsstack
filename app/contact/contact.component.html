<div class="row">
	<div class="col col-xs-12 col-sm-6 col-sm-offset-3">
		<h1>Contact</h1>
		<!-- <form (ngSubmit)="onSubmit()" #contactForm="ngForm" [hidden]="submitted"> -->
		<form (ngSubmit)="sendEmail(model)" #contactForm="ngForm" [hidden]="submitted">
			<div class="form-group">
				<label for="name">Name</label>
				<input type="text" class="form-control" id="name" required minlength="4" maxlength="24" 
				[(ngModel)]="model.name" name="name"
				#name="ngModel">
				<div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">
					<div [hidden]="!name.errors.required">
						Name is required
					</div>
					<div [hidden]="!name.errors.minlength">
						Name must be at least 4 characters long.
					</div>
					<div [hidden]="!name.errors.maxlength">
						Name cannot be more than 24 characters long.
					</div>
				</div>
			</div>
			<div class="form-group">
				<label for="name">Email</label>
				<input type="email" class="form-control" id="email" [(ngModel)]="model.email" name="email"
				#email="ngModel" required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$">
				<div *ngIf="!email.valid && (email.dirty || email.touched)" class="alert alert-danger">
					<div [hidden]="!email.errors.required">
						Email is required
					</div>
					<div [hidden]="!email.errors.pattern">
						Valid email is required
					</div>
				</div>
			</div>
			<div class="form-group">
				<label for="message">Message</label>
				<textarea class="form-control" id="message" required minlength="4"  
				[(ngModel)]="model.message" name="message"
				#message="ngModel"></textarea>
				<div *ngIf="message.errors && (message.dirty || message.touched)" class="alert alert-danger">
					<div [hidden]="!message.errors.required">
						message is required
					</div>
					<div [hidden]="!message.errors.minlength">
						message must be at least 4 characters long.
					</div>
				</div>
			</div>
			<div class="button-wrap">
				<button type="submit" class="btn btn-success" [disabled]="!contactForm.form.valid">Submit</button>
				<button routerLink="/">Back to your news</button>
			</div>
		</form>
		<div [hidden]="!submitted">
			<p>Thanks your message has been submitted</p>
			<button routerLink="/">Back to your news</button>
		</div>
	</div><!--col-->
</div>